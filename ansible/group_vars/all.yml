ansible_become_password: "{{ secret_sudo }}"

main_password: "{{ secret_sudo | default('dummy') }}"
main_domain: "{{ secret_local_domain | default('local') }}"
healthchecks_api: "{{ secret_healthchecks_api | default('dummy') }}"
healthchecks_ping: "{{ secret_healthchecks_ping | default('dummy') }}"

ntp_timezone: Europe/Oslo

rox_users_box_omp: True
rox_users_box_chezmoi: False
rox_users_box_is_appliance: False
rox_users_chezmoi_age: "{{ secret_chezmoi_age | default('dummy') }}"

homebrew: False

prom_node_exporter: True

apt_arch: "{{ _apt_arch.stdout }}"

users:
  - username: roxedus
    groupname: roxedus
    home: yes
    uid: "1000"
    gid: "1000"
    docker: True
    passwordless: True
    dotfiles: True
    github: Roxedus
    password: "{{ main_password }}"
    zfs: True

package_list:
  - bash-completion
  - ca-certificates
  - curl
  - git
  - gnupg2
  - htop
  - jq
  - ncdu
  - neofetch
  - net-tools
  - python3
  - python3-apt
  - python3-pip
  - software-properties-common
  - tmux
  - wget

dnsmasq_local_domain: "{{ main_domain }}"

docker_install_compose: true
docker_users_obj: "{{ users | selectattr('docker', 'true') }}"
docker_users: "{{ docker_users_obj | map(attribute='username') }}"
docker_apt_arch: "{{ apt_arch }}"
docker_daemon_options:
  log-driver: journald
  log-opts:
    mode: non-blocking

security_ssh_password_authentication: "no"
security_ssh_permit_root_login: "no"
security_ssh_port: 22
security_ssh_usedns: "no"
security_autoupdate_enabled: true
security_fail2ban_enabled: true
security_sudoers_passwordless:
  - "{{ users | selectattr('passwordless', 'true') | map(attribute='username') }}"
security_sudoers_passworded:
  - "{{ users | selectattr('passwordless', 'false') | map(attribute='username') }}"

netplan_4_dhcp: True
netplan_dns:
  - 10.0.0.31
  - 10.0.0.32
netplan_gateway4: 10.0.0.1
netplan_cidr: 10.0.0.0/24
netplan_search: ["{{ main_domain }}"]

healthchecks_management_url: http://10.0.0.16:8000
healthchecks_integration: 35f9ef7d-7251-4e4d-8f7a-292c9892464b
healthcheck_schedule_minute: "{{ 60 | random(seed=inventory_hostname) }}"

secret_local_domain: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  30363732646139316631643137336631353737303937346231363561396162353535613233313332
  6462376662353234636435633532346133653830613438650a306430356530333333646664343535
  37636235363434626161376531353663313861396331646437333834393735323034346161343039
  3235323436376463300a643039663938636135306230356164643239646634323034613262656334
  6636

secret_sudo: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  61343931363637666234316166376332393161613430306237343565306435303036666562666636
  6632613065373261363063616164396233353533663564380a386239383733653938653761353532
  35343332333138613937313637373865653265373037343332326131306137613161343262646639
  3138663836313438300a366237313139623638653166663434346339643131646331393437336634
  3334

secret_unraid_uuid: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  35383430666461333263333364333065656239643864633632666138333762313630303466633964
  3466376664363932383532326664626636613433633133340a383530656630623832396638306634
  63623735313864636463646234356535383238316232626662383135343437366663313031636566
  3534323032393861630a643739613562643135393234323839333561356536663339646237313063
  33633739353735343033323261633136396637643261633137346233326539653361383663323038
  3235663465646136313339646662366632343631653339643563

secret_wan_domain: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  64383731663266636564343739333036663738393765633330303031373364356663306233363562
  3137353133393131333565663931353437653063663739300a633763666265653561666265646663
  39373963376663626432643935663262316464623737386233366130383364396538623363323564
  3763623534353630630a653038326666613439396139376438353336386436653633353634616464
  3331

secret_chezmoi_age: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  32663539393838393265336339303036353562643533313736666230613062393861326538393035
  3037626563373734306132333039663439383634656463620a663366643261616233383762386638
  34396264363064333430313136356437636664306564646563363062346433346639613938333338
  3532663633393231380a333263656538613863326365306336343563366364353033393862633138
  35663034643330643439656239383430643030313332653630663764616533653332363835343665
  62363035313431313134613438393430393236313730383739326539623333353165336339313934
  64333466363734383933613833393630616638666536323363383161363063383332316562326237
  38633539333138633539

secret_healthchecks_api: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  39663063316235366464303432396464343832346463646533323630656430323266303965396664
  3438333930663964356134666332353233623238336434610a373439316466323738643738353138
  30353563343038623938653162313638613635396433383565393430333539643932323538303333
  3063623233306434620a316432353535343433353665383835346265323132346531306636353432
  38323461326466663166656230323330616237636634353564633038316561646331613462376334
  6334333165626131663435663664643031363764386464373230

secret_healthchecks_ping: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  65326232383436353735643733646638336366306633666365303233346162636530666132383831
  3138343066393962326166616233613136343261633338350a353066653437383764396439303862
  66366134343239376636353631373832303538313364653535306266363735623261383766653735
  3961396633326437380a643565306230336432316466396561653539656561633436663831616665
  63393135343135333066363865646335386566373630363562363166646262653464
