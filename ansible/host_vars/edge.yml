set_hostname: edge
netplan_addresses: [10.0.0.16/24]
netplan_4_dhcp: false

secret_cloudflare:
  apikey: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    35353738656462326662316266336461383164663037373237323265363634626531663562313264
    6461336665373337353936323966636638393163656466630a656530656462393132656335333832
    30353361353032643266663035636563633339313930366430623632323034303831383339656136
    6239353965666538350a313366356262656633636262616436306564326230336533373333643462
    66343931353136343138393161643835373065306163346235363439393761626138393739653162
    6437663066653538313932396463623234316133653238333434
  email: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    61316639366436653536303834656139643632333833336633616561326334366532653264303866
    3831656366306234376137346437626164353461663339620a393361376236326532343137646365
    33353131363336316461323163616239643734336366336237643964623932313837616431376230
    3465386566376665380a346432616333653766393361303461393365623565303866313536303764
    62323036663966376461623762393462626631633166623538346632336364656439
  zoneid: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    64326537393635663033303135663339616536343435393831663739616630653337363034636232
    3335663262613362326462623132633238646431373066610a303338386361303666626262363961
    66353739663139646537336564396532656261323561656435323666623138656531383735323536
    6234363263373832380a353039616630353164646436623832613739666139653934653962303737
    37326564663665333065656562353038333230343635356538346566316363303834356138333164
    3035313262393361663430366333306335396564313934346339

docker_daemon_options:
  default-address-pools:
    - scope: local
      base: 172.20.0.0/16
      size: 24
  experimental: true
  live-restore: true
  log-driver: journald
  log-opts:
    mode: non-blocking
  max-concurrent-downloads: 3
  max-concurrent-uploads: 5
  metrics-addr: 127.0.0.1:9323
  no-new-privileges: true

compose_generator_service: {}
compose_generator_timezone: "{{ ntp_timezone }}"
compose_generator_appdata_path: /opt/docker/appdata
compose_generator_compose_file_mask: 0775
compose_generator_compose_directory_mask: 0775

compose_generator_user: "{{ users.0.username }}"
compose_generator_group: "{{ users.0.groupname }}"
compose_generator_uid: "{{ users.0.uid }}"
compose_generator_gid: "{{ users.0.gid }}"
compose_generator_password: "{{ users.0.password }}"

compose_generator_globals:
  services:
    hostname: "{{ inventory_hostname }}"
    environment:
      PUID: "{{ compose_generator_uid }}"
      PGID: "{{ compose_generator_gid }}"
      TZ: "{{ compose_generator_timezone }}"
    volumes:
      - "{{ compose_generator_appdata_path }}/{{ compose_generator_service }}/config:/config"
    restart: unless-stopped
    labels:
      ansible.managed: "true"
  networks:
    default:
      external: true
      name: intranet
      labels:
        com.docker.compose.network: default
        ansible.managed: "true"

edge_generator_appdata_path: "{{ compose_generator_appdata_path }}"
edge_docker_user: "{{ compose_generator_user }}"
edge_docker_group: "{{ compose_generator_group }}"
